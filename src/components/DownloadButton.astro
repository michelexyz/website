---
interface Props {
  href: string;
  filename?: string;
  text?: string;
  className?: string;
}

const { href, filename, text = 'Download', className } = Astro.props as Props;
const downloadAttr = filename ?? '';
---
<a href={href} class={`download-btn${className ? ' ' + className : ''}`} download={downloadAttr}>
  {text}
  <span aria-hidden="true" class="icon">⬇️</span>
  <span class="sr-only"> (downloads a file)</span>
  <style>
    .download-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      margin-top: 1rem;
      padding: 0.75rem 1.5rem;
      background-color: #3b82f6;
      color: white;
      text-decoration: none;
      border-radius: 0.375rem;
      font-weight: 600;
      transition: background-color 0.2s ease;
    }
    .download-btn:hover { background-color: #2563eb; }
    .icon { font-size: 0.95em; }
    .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0; }
  </style>
</a>
