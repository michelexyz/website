---
import '../styles/buttons.css';

interface Props {
  href: string;
  filename?: string;
  text?: string;
  class?: string;
  className?: string;
}

const { href, filename, text = 'Download', class: cls, className, ...rest } = Astro.props as Props & Record<string, any>;
const downloadAttr = filename ?? '';
const mergedClass = className ?? cls ?? '';
---
<a href={href} class={`btn btn--accent download-btn${mergedClass ? ' ' + mergedClass : ''}`} download={downloadAttr} {...rest}>
  {text}
  <span aria-hidden="true" class="icon">⬇️</span>
  <span class="sr-only"> (downloads a file)</span>
  <style>
    .download-btn { font-weight: 600; }
    .download-btn:hover { filter: brightness(0.95); }
    .icon { font-size: 0.95em; }
    .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0; }
  </style>
</a>
