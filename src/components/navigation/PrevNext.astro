---
import '../../styles/buttons.css';

interface LinkInfo { slug: string; title?: string }
interface Props {
  prev?: LinkInfo | null;
  next?: LinkInfo | null;
  parentPage?: { title: string; url: string } | null;
  base?: string; // e.g. "/projects"
}
const { prev = null, next = null, parentPage = null, base = '/projects' } = Astro.props as Props;

---

{(prev || next) && (
  <nav class="prevnext" aria-label="Read next/previous">
    {parentPage && <h2 class="heading">Read more from <a href={parentPage.url}>{parentPage.title}</a></h2>}
    <div class="row">
      {prev ? (
        <a class="btn" href={`${base}/${prev.slug}/`} rel="prev" aria-label={`Previous: ${prev.title ?? prev.slug}`}>
          ← {prev.title ?? prev.slug}
        </a>
      ) : <span />}

      {next ? (
        <a class="btn" href={`${base}/${next.slug}/`} rel="next" aria-label={`Next: ${next.title ?? next.slug}`}>
          {next.title ?? next.slug} →
        </a>
      ) : <span />}
    </div>
  </nav>
)}

<style>
  .prevnext {
    margin-top: var(--space-6);
    padding: var(--space-5);
    background: var(--card-bg);
    border: var(--border-2) dashed var(--border);
    border-radius: 20px; /* boxy */
  }
  .heading {
    margin: 0 0 var(--space-4) 0;
    font-size: var(--font-4);
  }
  .row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: var(--space-4);
  }
  .row > span { width: 1px; visibility: hidden; }
  .btn { font-weight: 600; }
  @media (max-width: 600px) {
    .row { flex-direction: column; align-items: stretch; }
    .btn { width: 100%; justify-content: center; }
  }
</style>
