---
import { getCollection } from "astro:content";
import BaseLayout from "../layouts/BaseLayout.astro";
import BlogPost from "../components/BlogPost.astro";

const pageTitle = "My Astro Learning Blog";
const allPosts = await getCollection("blog");
---
<style>
  .blog-posts {
    list-style: none;
    padding: 0;
    margin: 0;
  }
</style>

<html lang="en">
  <BaseLayout pageTitle={"Blog"}>
    <p>This is where I will post about my journey learning Astro.</p>
    <ul class="blog-posts">
    {allPosts.map((post: any) => 
    <BlogPost url={`/posts/${post.id}/`} title={post.data.title} />)
    }
    </ul>
  </BaseLayout>
</html>