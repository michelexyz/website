---
import { getCollection } from "astro:content";
import BaseLayout from "../layouts/BaseLayout.astro";

import BlogFeed from "../components/feed/BlogFeed.astro";

const pageTitle = "My Astro Learning Blog";
const allPosts = await getCollection("blog");
---
<style>
  .blog-posts {
    list-style: none;
    padding: 0;
    margin: 0;
  }
</style>

<html lang="en">
  <BaseLayout pageTitle={"Michele's Blog"}>
    <p>This is where I will post about my journey learning Astro.</p>
    <BlogFeed
      items={allPosts.map((post: any) => ({
        url: `/blog/${post.id}/`,
        title: post.data.title,
        pubDate: post.data.pubDate,
        description: post.data.description
      }))}
    />
  </BaseLayout>
</html>