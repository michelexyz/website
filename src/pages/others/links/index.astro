---
import BaseLayout from "../../../layouts/BaseLayout.astro";
import BlogFeed from "../../../components/feed/BlogFeed.astro";
import { getCollection } from "astro:content";

const pageTitle = "Links";
const entries = await getCollection('links');
// newest first
entries.sort((a: any, b: any) => (b.data.pubDate?.getTime?.() || 0) - (a.data.pubDate?.getTime?.() || 0));
---
<BaseLayout pageTitle={pageTitle}>
  <p>Curated links and things to check out.</p>
  <BlogFeed
    items={entries.map((e: any) => ({
      url: `/links/${e.slug}/`,
      title: e.data.title,
      pubDate: e.data.pubDate,
      description: e.data.description
    }))}
  />
</BaseLayout>
